# 🌐 域名迁移指南

## 📋 当前域名配置

代码中硬编码的域名：
- **主域名**: `ans-scm.com`
- **邮箱**: `info@ans-scm.com`
- **台账系统**: `https://admin.ans-scm.com`
- **WMS系统**: `https://wms.ans-scm.com`

## 🔄 迁移步骤

### 1. 确定新域名

请提供以下信息：
- 新主域名（例如：`ans-scm.jp`）
- 新邮箱域名（例如：`info@ans-scm.jp`）
- 新子域名（如果需要更改）：
  - 台账系统：`admin.新域名.com`
  - WMS系统：`wms.新域名.com`

### 2. 更新代码

代码已更新为使用环境变量，需要配置：

**环境变量名称**：
- `VITE_DOMAIN` - 主域名（例如：`ans-scm.com`）
- `VITE_ADMIN_URL` - 台账系统URL（例如：`https://admin.ans-scm.com`）
- `VITE_WMS_URL` - WMS系统URL（例如：`https://wms.ans-scm.com`）

### 3. 配置环境变量

#### 本地开发（.env.local）

创建或更新 `.env.local` 文件：

```env
# 域名配置
VITE_DOMAIN=新域名.com
VITE_ADMIN_URL=https://admin.新域名.com
VITE_WMS_URL=https://wms.新域名.com
```

#### Vercel 环境变量

1. 访问 Vercel 项目设置
2. 进入 **Settings** → **Environment Variables**
3. 添加以下变量：
   - `VITE_DOMAIN` = `新域名.com`
   - `VITE_ADMIN_URL` = `https://admin.新域名.com`
   - `VITE_WMS_URL` = `https://wms.新域名.com`
4. 选择环境：Production, Preview, Development（全选）

### 4. DNS 配置

在你的域名注册商配置 DNS 记录：

```
# 主域名
类型: CNAME
名称: @
值: cname.vercel-dns.com

# admin 子域名
类型: CNAME
名称: admin
值: cname.vercel-dns.com

# wms 子域名
类型: CNAME
名称: wms
值: cname.vercel-dns.com
```

### 5. Vercel 域名配置

1. 访问 Vercel 项目 **Settings** → **Domains**
2. 添加新域名：
   - `新域名.com`
   - `admin.新域名.com`（如果台账系统是独立项目）
   - `wms.新域名.com`（如果WMS系统是独立项目）
3. 等待 DNS 验证通过

### 6. 测试验证

- [ ] 主域名可以访问
- [ ] 邮箱地址显示正确
- [ ] 登录对话框跳转到正确的URL
- [ ] 所有子域名正常工作

## ⚠️ 注意事项

1. **DNS 传播时间**：DNS 更改可能需要 5-60 分钟生效
2. **SSL 证书**：Vercel 会自动为新域名配置 SSL 证书
3. **旧域名**：如果保留旧域名，可以配置重定向
4. **邮件服务**：如果使用自定义邮箱，需要更新邮件服务器配置
