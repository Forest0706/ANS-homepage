# 🌐 ans-scm.com 域名配置完整教程

## 📋 前提条件

在开始之前，确保：
- ✅ Vercel 账号已登录
- ✅ 项目已在 Vercel 上部署
- ✅ 拥有 `ans-scm.com` 域名的控制权（域名注册商账号）
- ✅ 知道域名注册商是哪个（例如：Namecheap, GoDaddy, Cloudflare 等）

---

## 第一步：在 Vercel 中添加域名

### 步骤详解：

1. **登录 Vercel**
   - 访问：https://vercel.com
   - 使用你的账号登录

2. **进入项目设置**
   - 点击你的项目：`ans_homepage`（或你的项目名称）
   - 点击顶部导航栏的 **Settings**

3. **进入域名设置**
   - 在左侧菜单中找到并点击 **Domains**
   - 你会看到当前项目绑定的域名列表（可能是空的）

4. **添加主域名**
   - 点击 **Add Domain** 按钮
   - 在弹出的输入框中输入：`ans-scm.com`
   - 点击 **Add** 按钮

5. **查看 DNS 配置要求**
   - 添加后，Vercel 会显示需要配置的 DNS 记录
   - 通常显示类似以下内容：
     ```
     类型: A 记录 或 CNAME 记录
     名称: @（或留空）
     值: （Vercel 会显示具体的值，类似 76.76.21.21 或 cname.vercel-dns.com）
     ```
   - **⚠️ 重要**：请复制 Vercel 显示的具体值，每个账户可能不同

---

## 第二步：在域名注册商配置 DNS

### 常见域名注册商操作步骤：

#### 方式一：Namecheap（最常见）

1. **登录 Namecheap**
   - 访问：https://www.namecheap.com
   - 登录你的账号

2. **进入域名管理**
   - 点击右上角 **Account** → **Domain List**
   - 找到 `ans-scm.com` 域名
   - 点击域名右侧的 **Manage** 按钮

3. **进入 DNS 设置**
   - 点击 **Advanced DNS** 标签页
   - 找到 **Host Records** 部分

4. **添加 CNAME 记录（推荐）**
   
   点击 **Add New Record** 按钮，配置如下：
   ```
   类型: CNAME Record
   Host: @
   Value: cname.vercel-dns.com
   TTL: Automatic（或选择 3600）
   ```
   
   然后点击 **Save** 保存

5. **或者添加 A 记录**
   
   如果 Vercel 要求使用 A 记录，配置如下：
   ```
   类型: A Record
   Host: @
   Value: 76.76.21.21（使用 Vercel 显示的具体IP）
   TTL: Automatic（或选择 3600）
   ```

#### 方式二：GoDaddy

1. **登录 GoDaddy**
   - 访问：https://www.godaddy.com
   - 登录账号

2. **进入域名管理**
   - 点击 **My Products** → 找到 `ans-scm.com` → 点击 **DNS**

3. **添加 DNS 记录**
   - 点击 **Add** 按钮
   - 选择 **CNAME**
   - 配置：
     ```
     Name: @
     Value: cname.vercel-dns.com
     TTL: 1 Hour
     ```
   - 点击 **Save**

#### 方式三：Cloudflare

1. **登录 Cloudflare**
   - 访问：https://dash.cloudflare.com
   - 登录账号

2. **选择域名**
   - 在域名列表中找到 `ans-scm.com`
   - 点击进入

3. **进入 DNS 设置**
   - 点击左侧菜单 **DNS** → **Records**

4. **添加记录**
   - 点击 **Add record**
   - 配置：
     ```
     Type: CNAME
     Name: @
     Target: cname.vercel-dns.com
     Proxy status: DNS only（灰色云朵）
     TTL: Auto
     ```
   - 点击 **Save**

#### 方式四：其他域名注册商

如果你使用其他注册商（如阿里云、腾讯云、AWS Route53等）：
1. 登录你的域名注册商控制台
2. 找到域名管理 / DNS 管理
3. 添加 CNAME 记录：
   - **名称/主机**：`@` 或留空（表示根域名）
   - **值/目标**：`cname.vercel-dns.com`（或使用 Vercel 显示的值）
   - **TTL**：3600 或自动

---

## 第三步：等待 DNS 生效

### 等待时间：
- **通常需要**：5-60 分钟
- **最长可能**：24-48 小时（极少见）

### 验证 DNS 是否生效：

#### 方法一：使用命令行（Mac/Linux）
```bash
# 检查 DNS 解析
nslookup ans-scm.com

# 或使用 dig
dig ans-scm.com
```

#### 方法二：在线工具
- 访问：https://dnschecker.org
- 输入域名：`ans-scm.com`
- 查看全球 DNS 解析结果

#### 方法三：Vercel 控制台
- 返回 Vercel 的 **Domains** 页面
- 查看域名状态：
  - ⏳ **Validating** = DNS 还在验证中
  - ✅ **Valid** = DNS 配置成功，可以访问了
  - ❌ **Invalid** = 配置有误，检查 DNS 记录

---

## 第四步：配置子域名（可选）

如果你还需要配置子域名：

### admin.ans-scm.com（台账系统）

1. **在 Vercel 中添加**
   - 在同一个项目的 **Domains** 页面
   - 点击 **Add Domain**
   - 输入：`admin.ans-scm.com`

2. **配置 DNS**
   在域名注册商添加 CNAME 记录：
   ```
   类型: CNAME
   名称: admin
   值: cname.vercel-dns.com
   ```

### wms.ans-scm.com（WMS系统）

1. **在 Vercel 中添加**
   - 点击 **Add Domain**
   - 输入：`wms.ans-scm.com`

2. **配置 DNS**
   在域名注册商添加 CNAME 记录：
   ```
   类型: CNAME
   名称: wms
   值: cname.vercel-dns.com
   ```

---

## 第五步：SSL 证书自动配置

✅ **好消息**：Vercel 会自动为你的域名配置 SSL 证书（HTTPS）

- 不需要手动操作
- 通常在 DNS 验证通过后几分钟内自动配置
- 证书由 Let's Encrypt 提供，自动续期

### 验证 HTTPS：
- 访问：https://ans-scm.com
- 如果看到绿色的锁图标 🔒，说明 SSL 配置成功

---

## 第六步：测试访问

### 测试清单：

- [ ] **主域名访问**
  - 打开浏览器访问：`https://ans-scm.com`
  - 应该看到你的网站首页

- [ ] **HTTPS 强制跳转**
  - Vercel 默认会自动将 HTTP 跳转到 HTTPS
  - 尝试访问：`http://ans-scm.com`（应该自动跳转到 HTTPS）

- [ ] **检查页面功能**
  - 测试导航栏
  - 测试表单提交
  - 测试所有链接

- [ ] **移动端测试**
  - 在手机上访问域名
  - 确保响应式设计正常

---

## 常见问题排查

### ❌ 问题1：DNS 验证一直失败

**可能原因**：
- DNS 记录配置错误
- 使用了错误的记录值
- TTL 太长，更改还没生效

**解决方法**：
1. 检查 DNS 记录是否正确配置
2. 确保使用了 Vercel 显示的正确值
3. 等待更长时间（最多 24 小时）
4. 清除浏览器 DNS 缓存：
   ```bash
   # Mac/Linux
   sudo dscacheutil -flushcache
   
   # Windows
   ipconfig /flushdns
   ```

### ❌ 问题2：可以访问但显示 "Not Found"

**可能原因**：
- Vercel 项目没有正确部署
- 域名没有正确关联到项目

**解决方法**：
1. 检查 Vercel 项目是否有部署记录
2. 确认域名在正确的 Vercel 项目中
3. 重新部署项目

### ❌ 问题3：子域名无法访问

**可能原因**：
- 子域名的 DNS 记录未配置
- 子域名未在 Vercel 中添加

**解决方法**：
1. 确认子域名已在 Vercel 中添加
2. 检查 DNS 记录中的 "名称" 是否正确（例如：`admin` 而不是 `admin.ans-scm.com`）

---

## 📝 完整 DNS 配置示例（Namecheap）

如果你的域名在 Namecheap，最终的 DNS 配置应该是这样：

```
Host Records:
┌─────────┬──────┬────────────────────────┬─────────┐
│ Type    │ Host │ Value                  │ TTL     │
├─────────┼──────┼────────────────────────┼─────────┤
│ CNAME   │ @    │ cname.vercel-dns.com   │ Auto    │
│ CNAME   │ www  │ cname.vercel-dns.com   │ Auto    │
│ CNAME   │ admin│ cname.vercel-dns.com   │ Auto    │
│ CNAME   │ wms  │ cname.vercel-dns.com   │ Auto    │
└─────────┴──────┴────────────────────────┴─────────┘
```

---

## ✅ 配置完成检查清单

完成以下所有项目，域名配置就完成了：

- [ ] ✅ 在 Vercel 中添加了 `ans-scm.com` 域名
- [ ] ✅ 在域名注册商配置了 DNS 记录（CNAME 或 A 记录）
- [ ] ✅ DNS 记录中的值正确（使用了 Vercel 显示的值）
- [ ] ✅ 等待 DNS 生效（5-60 分钟）
- [ ] ✅ Vercel 显示域名状态为 **Valid**
- [ ] ✅ 可以通过 `https://ans-scm.com` 访问网站
- [ ] ✅ SSL 证书自动配置（浏览器显示 🔒）
- [ ] ✅ （可选）子域名已配置并可以访问

---

## 🆘 需要帮助？

如果遇到问题：
1. 查看 Vercel 的官方文档：https://vercel.com/docs/concepts/projects/domains
2. 检查 Vercel 项目中的错误日志
3. 确认你的 Vercel 账户是否有权限添加自定义域名

---

**完成这些步骤后，你的网站就可以通过 `https://ans-scm.com` 访问了！** 🎉
